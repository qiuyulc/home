# 获取当前日期和时间
current_date=$(date +"%Y-%m-%d %H:%M:%S")

# 获取提交的作者
author=$(git log -1 --pretty=format:'%an')

# 获取提交的消息
commit_message=$(git log -1 --pretty=format:'%s')

# 获取当前分支信息
branch=$(git branch --show-current)

# 构建版本时间线对象
version_timeline="{ \"date\": \"$current_date\", \"author\": \"$author\", \"message\": \"$commit_message\", \"branch\": \"$branch\" }"

# 保存为 JSON 文件
echo $version_timeline > ../version_timeline.json